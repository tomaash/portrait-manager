<div class="container">

	<div ng-include="'components/navbar/navbar.html'"></div>

	<div class="container">
		<div class="container col-md-5">
			<h2>People</h2>
			<br>
			<table class="table">
				<thead>
					<tr>
						<th>First Name</th>
						<th>Last Name</th>
						<th>Photo</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="item in vm.collection">
						<td>{{item.firstName}}</td>
						<td>{{item.lastName}}</td>
						<td><img style="height:20px" ng-src="/image?id={{item._id}}&cache={{vm.cachebuster}}"></td>
						<td>
							<!-- <div class="btn-group" role="group">
							-->
							<div class="action">
								<span class="action-buttons">
									<button ng-click="vm.edit(item)" class='btn btn-xs btn-warning'>Edit</button>
									<button ng-click="vm.destroy(item)" class='btn btn-xs btn-danger'>Delete</button>
								</span>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
			<p >{{item.name}}</p>
		</div>
		<div class="container col-md-1"></div>
		<div class="container col-md-5">
			<h2>{{vm.editMode && 'Edit' || 'Create'}}</h2>
			<br>
			<form role="form">
				<div class="form-group">
					<label for="first_name">First name:</label>
					<input ng-model="vm.currentItem.firstName" class="form-control" id="first_name"></div>
				<div class="form-group">
					<label for="last_name">Last name:</label>
					<input ng-model="vm.currentItem.lastName" class="form-control" id="last_name"></div>
				<div class="form-group">
					<label >Photo:</label>
					<br>
					<button ng-hide="vm.thumbnailUrl || vm.currentItem._id" ng-file-select="" ng-file-change="vm.fileSelected()" class="btn btn-info btn-lg" ng-model="vm.file">Attach</button>
					<br>
					<div class="hover-pointer" ng-file-select="" ng-file-change="vm.fileSelected()" ng-model="vm.file">
						<img ng-hide="vm.thumbnailUrl" style="width:300px;" ng-if="vm.currentItem._id" ng-src="/image?id={{vm.currentItem._id}}&cache={{vm.cachebuster}}">
						<img ng-show="vm.thumbnailUrl" style="width:300px;" ng-if="vm.thumbnailUrl" ng-src="{{vm.thumbnailUrl}}"></div>
				</div>

			</form>
			<br>
			<button ng-hide="vm.editMode" class="btn btn-success" ng-click="vm.create()">
				<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
				Create
			</button>
			<span ng-show="vm.editMode">
				<button class="btn btn-warning" ng-click="vm.update()">
					<span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
					Update
				</button>
				<button class="btn btn-danger" ng-click="vm.cancel()">
					<span class="glyphicon glyphicon-cross" aria-hidden="true"></span>
					Cancel
				</button>
			</span>

			<!-- 			<input ng-file-select type="file" ng-file-change="fileSelected($files, $event)" ng-model="vm.picFile">
			-->
			<br/>
			<br/>

			<!-- <button class="btn btn-danger" ng-click="vm.upload()">Upload</button>
		-->
	</div>
</div>
</div>

<!-- <img src="/image?id=tom">
-->
<!-- 	<fieldset>
<legend>Upload right away</legend>
<div class="up-buttons">
<div ng-file-select="" ng-model="files" class="upload-button" ng-file-change="upload(files)" ng-multiple="false" ng-accept="'image/*,application/pdf'" tabindex="0">Attach an Image or PDF</div>
<br>
<button ng-file-select="" ng-model="files" ng-multiple="true">Attach Any File</button>
</div>
<div ng-file-drop="" ng-file-select="" ng-model="files" class="drop-box" drag-over-class="{accept:'dragover', reject:'dragover-err', delay:100}" ng-multiple="true" allow-dir="true" accept="image/*,*pdf">
Drop Images or PDFs
<div>here</div>
</div>
<div ng-no-file-drop="" class="drop-box">File Farg&amp;Drop not supported on your browser</div>
</fieldset>
-->
<!-- <form name="myForm">
<fieldset>
<legend>Upload on form submit</legend>
Username:
<input type="text" name="userName" ng-model="vm.username" size="48" required=""> <i ng-show="myForm.userName.$error.required">*required</i>
<br>
Profile Picture:
<input type="file" ng-file-select="" ng-model="vm.picFile" name="file" accept="image/*" ng-file-change="generateThumb(picFile[0], $files)" required=""> <i ng-show="myForm.file.$error.required">*required</i>
<br>

<button ng-disabled="!myForm.$valid" ng-click="uploadPic(vm.picFile)">Submit</button>
<img ng-show="vm.picFile[0].dataUrl != null" ng-src="{{vm.picFile[0].dataUrl}}" class="thumb">
<span class="progress" ng-show="vm.picFile[0].progress >
= 0">
<div style="width:{{vm.picFile[0].progress}}%" ng-bind="vm.picFile[0].progress + '%'" class="ng-binding"></div>
</span>
<span ng-show="vm.picFile[0].result">Upload Successful</span>
</fieldset>
<br></form>
-->